# 内存管理  

## 前端为什么要关注内存  

1 防止页面占用内存过大，引起客户端卡顿，甚至无响应  
2 node属于后端服务，前端必修，内存对于后端服务的性能至关重要，因为后端服务的持久性， 后端更容易造成内存泄漏  

## js数据类型与js内存机制  

### js数据类型  

原始数据类型：字符串，数值，布尔值，null,undifine,symbol  
引用数据类型  

引用数据类型：对象，函数，数组...  

### js内存机制  

内存空间分为堆与栈  
原始类型被引用时是复制它的值，复杂类型是引用它的地址  
例：  
```js
let num=0;  
function fun(data){  
    data = 10  
}  
fun(num)  
console.log(num)  // 0; 未更改  

let obj={ a : 10 }  
function func(data){  
    data.a = 11  
}  
func(obj)  
console.log(obj) // { a:11 }; 已更改  
```
结合上个例子，我们可以知道num是原始值，存储在栈空间，所以函数fun运行时只修改了函数中所引用的那个复制的值，而对num没有影响    
而obj是个对象类型，{ a : 10 } 存储在堆空间中，obj只是一个存储在栈空间的一个地址指向，  
所以函数func拿到obj的时候，实际就是拿到了{ a:10 }的地址，对地址的任何操作都会作用到{ a:10 }的上面  